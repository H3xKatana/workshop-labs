# AGENTS.md - Project Context for AI Agents

## Project Overview

This is a multi-workshop repository hosting various technical workshops. Currently contains the Docker fundamentals workshop.

**Repository:** https://github.com/H3xKatana/workshop-labs

---

## Repository Structure

```
workshop-labs/
├── .github/workflows/          # CI/CD pipelines
├── .gitignore                  # Shared gitignore
├── README.md                   # Root multi-workshop README
├── ech-docker-workshop/        # Docker workshop content
│   ├── exercise-01-first-container/
│   ├── exercise-02-build-image/
│   ├── exercise-03-compose/
│   ├── exercise-04-container-registry/
│   ├── exercise-05-production/
│   └── slides/                 # Marp presentation slides
│       ├── .gitignore         # Ignores node_modules/, *.html
│       └── workshop-slides.md
└── [future workshops go here]
```

---

## Available Workshops

| Workshop | Description |
|----------|-------------|
| ech-docker-workshop | Docker fundamentals from containers to production |

---

## Technologies Used

| Component | Technology |
|-----------|------------|
| Slides | Marp CLI |
| Package Manager | pnpm |
| CI/CD | GitHub Actions |
| Container Runtime | Docker, Docker Compose |

---

## Adding a New Workshop

1. Create directory at root: `ech-<topic>-workshop/`
2. Add exercises, slides, etc.
3. If slides needed: add `slides/` subfolder with:
   - `package.json` (dependencies: `@marp-team/marp-cli`)
   - `*.md` files for slide content
4. CI pipeline auto-detects and builds slides

---

## CI/CD

### Build Slides Pipeline (`.github/workflows/build-slides.yml`)

- **Triggers:** Push to `main`, PRs to `main`
- **Auto-discovers** workshops with `slides/` folder
- **Builds** HTML from Marp markdown
- **Uploads** as GitHub Actions artifacts (30-day retention)

### Running Locally

```bash
# Build slides
cd <workshop>/slides
pnpm install
pnpm build        # or pnpm run build:workshop
```

---

## Git Worktrees

This project uses `.worktrees/` for isolated development. Do NOT commit worktree contents.

```
.worktrees/       # Automatically ignored in .gitignore
```

---

## Key Commands

```bash
# Install dependencies
pnpm install

# Build slides locally
cd <workshop>/slides && pnpm build
```

---

## Common Issues & Solutions

### HTML files in slides
- HTML files are **NOT** committed - they're generated by CI
- Each `slides/` folder has `.gitignore` with `*.html` and `node_modules/`

### Port conflicts
- When running Docker: use `-p <host>:<container>` to map different ports
